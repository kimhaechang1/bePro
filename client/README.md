# bePro 프로젝트 클라이언트

React.js 기반으로 제작된 클라이언트

프로젝트 진행기간 : 22/10/24 ~ 23/01/16

맡은 임무 : 리액트를 활용한 컴포넌트 제작 및 기능 구현

## 사용한 라이브러리들
```
"axios": "^1.1.3",
"http-proxy-middleware": "^2.0.6",
"react": "^18.2.0",
"react-dom": "^18.2.0",
"react-router-dom": "^6.4.2",
"react-scripts": "5.0.1"
```
## 프로젝트 실행방법

```package.json```에 ```dependencies```로 정의된 라이브러리 설치 후

```npm run start``` 명령 실행

## 디렉토리 별 프로젝트 구성

- ```/public``` : html파일이나 각종 svg 및 이미지 파일 보관용

- ```/axios``` : Axios 라이브러리를 활용하여 서로다른 목적을 가진 통신 함수로 정의된 js파일

- ```/axios/bind``` : 통신하기 전, 공통 컴포넌트에 개별적인 통신 목적에 맞는 데이터 전처리가 필요 한 경우 사용

- ```/components``` : 페이지별 재사용성을 고려한 리액트 컴포넌트

- ```/views``` : 라우팅 연결을 통해 사용자에게 보여지는 페이지 및 라우팅 연결을 담당하는 파일(```AppRoute.js```) 보관

## 라우팅 별 프로젝트 구성

<a href="https://github.com/kimhaechang1/bePro/blob/main/client/src/AppRoute.js">라우터 소스코드 링크</a>

편의를 위해 ```localhost:3000```은 생략하여 설명한다.

```"/"``` : 

- 가장 상위 페이지로서 모든 페이지별 공통 레이아웃(```Header.js```)을 렌더링하는 담당을 맡고 있다.

- 중첩 라우팅을 통해 ```"/"```으로 이동하면 ```<MainPage/>```를 렌더링한다.

```"/mypage"``` : 

- 내부 회원정보 수정(```edit_profile```)과 쓴글 관리(```manage```)페이지의 공통 레이아웃을 렌더링하는 역할을 맡고 있다.

- ```<SideMenu/>```와의 메뉴리스트 및 사이트 접근 시 유저인증과 어드민 인증을 담당하고 있다.

- 중첩 라우팅을 통해 ```"/mypage"```으로 이동하면 ```/mypage/manage```를 렌더링한다.

```"/mypage/edit_profile"``` : 회원정보 수정 페이지로서 자신의 아이디, 비밀번호, 닉네임 등을 수정할 수 있다.

```"/mypage/manage"``` : 자신이 쓴 글을 관리할 수 있으며, 어드민의 경우 공지사항 글 까지 관리할 수 있다.

```"/qna"``` : 

- QnA 글 리스트와 글 상세보기(```/qna/:id```)페이지의 공통 레이아웃을 렌더링하는 역할을 맡고 있다.

- 중첩 라우팅을 통해 ```"/qna"```으로 이동하면 ```<QnABoardList/>```를 렌더링한다.

```<QnABoardList/>``` : Axios 통신을 통해 글 데이터를 받아와서 글 제목을 기준으로 렌더링하는 역할을 맡는다.

```"/qna/:id"``` : 

- url 파리미터를 통해 넘겨받은 글 인덱스 번호를 통해 통신을 하여 글 상세 데이터를 렌더링한다.

- 상세 데이터 속 댓글을 렌더링하고 댓글쓰기 기능을 수행한다.

- 일차적으로 로컬 스토리지에 저장되어 있는 회원정보를 통해 본인글인지 확인한다.

- 본인글인지 확인되면 "글수정" 버튼이 활성화 되고, 이는 ```<Write/>```로 글 내용을 이동시켜서 글수정을 진행한다.

- 댓글은 익명 댓글과 유저 댓글로 나뉘며, 로그인 유저의 경우 익명 댓글과 유저댓글 기능을 선택할 수 있다.

- 댓글 수정은 로컬스토리지에 있는 회원정보를 통해 "댓글수정" 버튼이 활성화 되며, 곧바로 수정할 수 있는 상태가 된다.

- 수정된 댓글을 업로드 할 시, 로컬스토리지 데이터를 서버로 보내어 본인 확인 인증 후 댓글 업데이트 API호출을 진행한다. 

 - 댓글 삭제의 경우도 위와 동일하다.
 
 ```"/notice"``` : 
 
- 공지사항 글 리스트와 글 상세보기(```/notice/:id```)페이지의 공통 레이아웃을 렌더링하는 역할을 맡고 있다.

- 중첩 라우팅을 통해 ```"/notice"```으로 이동하면 ```<NoticeBoardList/>```를 렌더링한다.

```<NoticeBoardList/>``` : Axios 통신을 통해 글 데이터를 받아와서 글 제목을 기준으로 렌더링하는 역할을 맡는다.

```"/notice/:id"``` : 

- url 파리미터를 통해 넘겨받은 글 인덱스 번호를 통해 통신을 하여 글 상세 데이터를 렌더링한다.

- 댓글기능은 따로 없으며, 어드민의 경우에만 글 수정 권한을 갖게 된다.

- 어드민의 경우 글 수정 버튼을 누를시 ```<Write/>```로 글 내용을 이동시켜 글 수정을 진행한다.

```"/write"``` : 

- 게시판 별 글 수정 및 글 쓰기 기능을 수행하는 페이지를 렌더링한다.

- url 쿼리스트링을 통해 게시판 종류와 글 수정 or 새글쓰기를 판단한다. (```ex) "/write?board=qna&type=edit"```)

- 글 수정 및 공지사항 글 쓰기에 대해, submit 버튼을 누를시 서버로 전송 되기 전 인증 API를 먼저 호출한다.

```"/search"``` :

- 검색결과 페이지로서, 검색 API 호출의 결과물을 게시판별로 나누어 렌더링한다.

- 기본적으로 글 제목들을 게시판별로 보여주며, 클릭 할 시 글 상세보기 페이지로 이동하게 된다.
